{
  "version": "2.0.0",
  "type": "shell",
  "problemMatcher": [],
  "inputs": [
    {
      "id": "args",
      "description": "Recipe arguments",
      "type": "promptString",
      "default": ""
    },
    {
      "id": "dependency",
      "description": "Tree of packages requesting this dependency",
      "type": "promptString",
      "default": ""
    },
    {
      "id": "email",
      "description": "Email address associated with your GitHub account",
      "type": "promptString",
      "default": ""
    },
    {
      "id": "change_type",
      "type": "pickString",
      "description": "Change type",
      "options": ["breaking", "deprecation", "change"]
    },
    {
      "id": "cmd",
      "description": "",
      "type": "promptString",
      "default": ""
    },
    {
      "id": "module",
      "description": "",
      "type": "promptString",
      "default": ""
    },
    {
      "id": "script",
      "description": "",
      "type": "promptString",
      "default": ""
    },
    {
      "id": "username",
      "description": "GitHub username",
      "type": "promptString",
      "default": ""
    },
    {
      "id": "version",
      "description": "Version number",
      "type": "promptString",
      "default": ""
    }
  ],
  "tasks": [
    //! VSCode startup
    {
      "label": "con âš¡ğŸ‘¥ Contributor environment setup on folder open",
      "command": "$Env:VSCODE_FOLDER_OPEN_TASK_RUNNING='1'; ./j.ps1 con",
      "runOptions": { "runOn": "folderOpen" }
    },
    //* ğŸŒ Install
    {
      "label": "inst-all ğŸŒ Install VSCode, GitHub CLI, Git, Windows Terminal, and cross-platform PowerShell",
      "command": "./j.ps1 inst-all"
    },
    {
      "label": "inst-brew ğŸŒ Install Homebrew",
      "command": "./j.ps1 inst-brew"
    },
    {
      "label": "inst-code ğŸŒ Install VSCode",
      "command": "./j.ps1 inst-code"
    },
    {
      "label": "inst-gh ğŸŒ Install GitHub CLI",
      "command": "./j.ps1 inst-gh"
    },
    {
      "label": "inst-git ğŸŒ Install Git",
      "command": "./j.ps1 inst-git"
    },
    {
      "label": "inst-pwsh ğŸŒ Install cross-platform PowerShell, the shell used for all non-install recipes",
      "command": "./j.ps1 inst-pwsh"
    },
    {
      "label": "inst-snap ğŸŒ Install Snap",
      "command": "./j.ps1 inst-snap"
    },
    {
      "label": "inst-uv ğŸŒ Install a project version of uv if you've got global uv",
      "command": "./j.ps1 inst-uv"
    },
    {
      "label": "inst-wt ğŸŒ Install Windows Terminal",
      "command": "./j.ps1 inst-wt"
    },

    //* â™¾ï¸  Self
    {
      "label": "list ğŸ“ƒ List recipes",
      "command": "./j.ps1 list"
    },
    {
      "label": "just â™¾ï¸ Run Just recipes...",
      "command": "./j.ps1 just ${input:args}"
    },

    //* â›°ï¸ Environments
    {
      "label": "run ğŸƒ Run shell commands with uv synced...",
      "command": "./j.ps1 run ${input:args}"
    },
    {
      "label": "con ğŸ‘¥ Run recipes as a contributor...",
      "command": "./j.ps1 con ${input:args}"
    },
    {
      "label": "ci ğŸ¤– Run recipes in CI...",
      "command": "./j.ps1 ci ${input:args}"
    },
    {
      "label": "devcontainer ğŸ“¦ Run recipes in a devcontainer",
      "command": "./j.ps1 devcontainer ${input:args}"
    },

    //* ğŸŸ£ uv
    {
      "label": "uv ğŸŸ£ uv ...",
      "command": "./j.ps1 uv ${input:args}"
    },
    {
      "label": "uv-run ğŸƒ uv run ...",
      "command": "./j.ps1 uv-run ${input:args}"
    },
    {
      "label": "uvx ğŸƒ uvx ...",
      "command": "./j.ps1 uvx ${input:args}"
    },
    {
      "label": "uv-sync ğŸ”ƒ uv sync ...",
      "command": "./j.ps1 uv-sync ${input:args}"
    },

    //* ğŸ Python
    {
      "label": "py ğŸ uv run python ...",
      "command": "./j.ps1 py ${input:args}"
    },
    {
      "label": "py-module ğŸ“¦ uv run --module ...",
      "command": "./j.ps1 py-module ${input:module} ${input:args}"
    },
    {
      "label": "py-command ğŸƒ uv run python -c '...'",
      "command": "./j.ps1 py-command ${input:cmd}"
    },
    {
      "label": "py-script ğŸ“„ uv run --script ...",
      "command": "./j.ps1 py-script ${input:script} ${input:args}"
    },
    {
      "label": "py-gui ğŸ“º uv run --gui-script ...",
      "command": "./j.ps1 py-gui ${input:script} ${input:args}"
    },

    //* âš™ï¸  Tools
    {
      "label": "tool-pytest ğŸ§ª pytest ...",
      "command": "./j.ps1 tool-pytest ${input:args}"
    },
    {
      "label": "tool-docs-preview ğŸ“– preview docs",
      "command": "./j.ps1 tool-docs-preview"
    },
    {
      "label": "tool-docs-build ğŸ“– build docs",
      "command": "./j.ps1 tool-docs-build"
    },
    {
      "label": "tool-pre-commit ğŸ”µ pre-commit run ...",
      "command": "./j.ps1 tool-pre-commit ${input:args}"
    },
    {
      "label": "tool-pre-commit âš¡ğŸ”µ pre-commit run",
      "command": "./j.ps1 tool-pre-commit"
    },
    {
      "label": "tool-pre-commit-all ğŸ”µ pre-commit run --all-files ...",
      "command": "./j.ps1 tool-pre-commit-all ${input:args}"
    },
    {
      "label": "tool-pre-commit-all âš¡ğŸ”µ pre-commit run --all-files",
      "command": "./j.ps1 tool-pre-commit-all"
    },
    {
      "label": "tool-check-clean âœ”ï¸ Check that the working tree is clean",
      "command": "./j.ps1 tool-check-clean"
    },
    {
      "label": "tool-fawltydeps âœ”ï¸ fawltydeps ...",
      "command": "./j.ps1 tool-fawltydeps ${input:args}"
    },
    {
      "label": "tool-pyright âœ”ï¸ pyright",
      "command": "./j.ps1 tool-pyright"
    },
    {
      "label": "tool-ruff âœ”ï¸ ruff check ... '.'",
      "command": "./j.ps1 tool-ruff ${input:args}"
    },

    //* ğŸ“¦ Packaging
    {
      "label": "pkg-build ğŸ› Build wheel, compile binary, and sign...",
      "command": "./j.ps1 pkg-build ${input:args}"
    },
    {
      "label": "pkg-build-changelog ğŸ“œ Build changelog for new version",
      "command": "./j.ps1 pkg-build-changelog ${input:version}"
    },
    {
      "label": "pkg-release âœ¨ Release the current version",
      "command": "./j.ps1 pkg-release"
    },

    //* ğŸ‘¥ Contributor environment setup
    {
      "label": "con-git-submodules ğŸ‘¥ Update Git submodules",
      "command": "./j.ps1 con-git-submodules"
    },
    {
      "label": "con-pre-commit-hooks ğŸ‘¥ Install pre-commit hooks",
      "command": "./j.ps1 con-pre-commit-hooks"
    },
    {
      "label": "con-norm-line-endings ğŸ‘¥ Normalize line endings",
      "command": "./j.ps1 con-norm-line-endings"
    },
    {
      "label": "con-dev ğŸ‘¥ Run dev task...",
      "command": "./j.ps1 con-dev ${input:args}"
    },
    {
      "label": "con-update-changelog ğŸ‘¥ Update changelog...",
      "command": "./j.ps1 con-update-changelog ${input:change_type}"
    },
    {
      "label": "con-update-changelog-latest-commit ğŸ‘¥ Update changelog with the latest commit's message",
      "command": "./j.ps1 con-update-changelog-latest-commit"
    },

    //* ğŸ“¤ CI Output
    {
      "label": "ci-out-latest-release ğŸ·ï¸ Set CI output to latest release",
      "command": "./j.ps1 ci-out-latest-release"
    },

    //* ğŸ§© Templating
    {
      "label": "templ-update â¬†ï¸ Update from template",
      "command": "./j.ps1 templ-update"
    },
    {
      "label": "templ-update-prompt â¬†ï¸ Update from template (prompt)",
      "command": "./j.ps1 templ-update-prompt"
    },
    {
      "label": "templ-sync ğŸ”ƒ Sync with current template",
      "command": "./j.ps1 templ-sync"
    },
    {
      "label": "templ-sync-prompt ğŸ”ƒ Sync with current template (prompt)",
      "command": "./j.ps1 templ-sync-prompt"
    },
    {
      "label": "templ-recopy â¡ï¸ Recopy current template",
      "command": "./j.ps1 templ-recopy"
    },
    {
      "label": "templ-recopy-prompt â¡ï¸ Recopy current template (prompt)",
      "command": "./j.ps1 templ-recopy-prompt"
    },

    //* ğŸ› ï¸ Repository setup
    {
      "label": "repo-init ğŸ¥¾ Initialize repository",
      "command": "./j.ps1 repo-init"
    },

    //* ğŸ’» Machine setup
    {
      "label": "setup-git ğŸ‘¤ Set Git username and email",
      "command": "./j.ps1 setup-git ${input:username} ${input:email}"
    },
    {
      "label": "setup-git-recs ğŸ‘¤ Configure Git as recommended",
      "command": "./j.ps1 setup-git-recs"
    },
    {
      "label": "setup-gh ğŸ”‘ Log in to GitHub API",
      "command": "./j.ps1 setup-gh"
    },
    {
      "label": "setup-scripts ğŸ”“ Allow running local PowerShell scripts",
      "command": "./j.ps1 setup-scripts"
    },

    //TODO
    {
      "label": "todo âš ï¸ Remove *.rej",
      "command": "Get-ChildItem -Recurse -Filter *.rej | Remove-Item"
    },
    {
      "label": "todo âš ï¸ Rebase back to fork",
      "command": "git rebase -i --fork-point main"
    },
    {
      "label": "todo âš ï¸ Show tree of packages requesting a dependency",
      "command": "./j.ps1 uv-run pipdeptree --reverse --packages ${input:dependency}"
    },
    {
      "label": "todo âš ï¸ Profile this file",
      "command": "./j.ps1 uv-run cProfile -o .prof ${file}"
    },
    {
      "label": "todo âš ï¸ View profile results with snakeviz",
      "command": "./j.ps1 uv-run snakeviz .prof"
    }
  ]
}
